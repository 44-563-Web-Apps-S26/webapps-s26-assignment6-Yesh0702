<!DOCTYPE html>
<html>
<head>
    <title>Progressive Tax Calculator</title>
</head>
<body>

    <h1>Yeshwanth Reddy Kottam tax table computation</h1>

    <form>
        <label for="income">Enter income</label>
        <input type="number" id="income" value="5000"><br><br>

        <label for="baseRate">Enter the base tax rate</label>
        <input type="number" id="baseRate" value="0.05" step="0.01"><br><br>

        <label for="cutoff">Enter the cut off</label>
        <input type="number" id="cutoff" value="7500"><br><br>

        <label for="extRate">Enter the extended rate</label>
        <input type="number" id="extRate" value="0.15" step="0.01"><br><br>

        <input type="button" onclick="doTax()" value="Show tax table">
    </form>

    <div id="result"></div>

    <hr>

    <h2>Additional Operations</h2>
    <form>
        <input type="radio" id="power" name="operation" value="exponent" onclick="chooseOp()">
        <label for="power">power</label><br>

        <input type="radio" id="sum" name="operation" value="add" onclick="chooseOp()">
        <label for="sum">sum</label><br>

        <input type="radio" id="mod" name="operation" value="mod" onclick="chooseOp()">
        <label for="mod">mod</label><br>
    </form>

    <div id="op_result">Operation result will appear here.</div>

    <script>
        // Part 5.7: Main tax computation function
        function doTax() {
            let income = Number(document.getElementById("income").value);
            let cutoff = Number(document.getElementById("cutoff").value);
            let baseRate = Number(document.getElementById("baseRate").value);
            let extRate = Number(document.getElementById("extRate").value);
            
            let taxTable = "";
            let resultDiv = document.getElementById("result");

            for (let i = 1; i <= 5; i++) {
                let incomeLevel = i * income;
                let calculatedTax = 0;

                if (incomeLevel <= cutoff) {
                    calculatedTax = incomeLevel * baseRate;
                } else {
                    calculatedTax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
                }

                taxTable += "incomeLevel " + incomeLevel + " is " + calculatedTax + "; ";
            }

            resultDiv.innerHTML = "Taxes are: " + taxTable;
        }

        // Part 6.4: Function to handle radio button operations
        function chooseOp() {
            // 4.a-b: Get values from existing income and baseRate inputs
            let income = Number(document.getElementById("income").value);
            let baseRate = Number(document.getElementById("baseRate").value);
            let out = document.getElementById("op_result");
            let result = 0;
            let displayMsg = "";

            // 4.c: Check which radio button is selected and perform math
            if (document.getElementById("power").checked) {
                result = Math.pow(income, baseRate);
                displayMsg = income + " to the power of " + baseRate + " is " + result;
            } else if (document.getElementById("sum").checked) {
                result = income + baseRate;
                displayMsg = income + " + " + baseRate + " is " + result;
            } else if (document.getElementById("mod").checked) {
                result = income % baseRate;
                displayMsg = income + " % " + baseRate + " is " + result;
            }

            // 4.d: Replace innerHTML for the result element
            out.innerHTML = displayMsg;
        }
    </script>

</body>
</html