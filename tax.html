<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progressive Tax Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding: 20px; background-color: #f8f9fa; }
        .tax-container { max-width: 800px; margin: auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .result-box { margin-top: 20px; min-height: 50px; }
    </style>
</head>
<body>

<div class="container tax-container">
    <h1 class="text-success border-bottom pb-2">Yeshwanth Reddy Kottam tax table computation</h1>

    <form class="row g-3 mt-2">
        <div class="col-md-6">
            <label for="income" class="form-label">Enter income</label>
            <input type="number" id="income" class="form-control" value="5000">
        </div>
        <div class="col-md-6">
            <label for="baseRate" class="form-label">Enter the base tax rate</label>
            <input type="number" id="baseRate" class="form-control" value="0.05" step="0.01">
        </div>
        <div class="col-md-6">
            <label for="cutoff" class="form-label">Enter the cut off</label>
            <input type="number" id="cutoff" class="form-control" value="7500">
        </div>
        <div class="col-md-6">
            <label for="extRate" class="form-label">Enter the extended rate</label>
            <input type="number" id="extRate" class="form-control" value="0.15" step="0.01">
        </div>

        <div class="col-12 mt-4">
            <input type="button" class="btn btn-success px-4" onclick="doTax()" value="Show tax table">
        </div>
    </form>

    <div id="result" class="alert alert-secondary mt-4">Taxes will appear here.</div>

    <hr class="my-5">

    <h2 class="h4 text-secondary">Additional Operations</h2>
    <form class="mt-3">
        <div class="form-check">
            <input type="radio" id="power" name="operation" value="exponent" class="form-check-input" onclick="chooseOp()">
            <label class="form-check-label" for="power">power (exponent)</label>
        </div>
        <div class="form-check">
            <input type="radio" id="sum" name="operation" value="add" class="form-check-input" onclick="chooseOp()">
            <label class="form-check-label" for="sum">sum (addition)</label>
        </div>
        <div class="form-check">
            <input type="radio" id="mod" name="operation" value="mod" class="form-check-input" onclick="chooseOp()">
            <label class="form-check-label" for="mod">mod (remainder)</label>
        </div>
    </form>

    <div id="op_result" class="p-3 bg-light border rounded mt-3 fw-bold text-primary">
        Operation result will appear here.
    </div>
</div>

<script>
    // Part 5.7: Main tax computation function
    function doTax() {
        let income = Number(document.getElementById("income").value);
        let cutoff = Number(document.getElementById("cutoff").value);
        let baseRate = Number(document.getElementById("baseRate").value);
        let extRate = Number(document.getElementById("extRate").value);
        
        let taxTable = "";
        let resultDiv = document.getElementById("result");

        // 7.f: Loop logic
        for (let i = 1; i <= 5; i++) {
            let incomeLevel = i * income;
            let calculatedTax = 0;

            if (incomeLevel <= cutoff) {
                calculatedTax = incomeLevel * baseRate;
            } else {
                calculatedTax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
            }

            taxTable += "incomeLevel " + incomeLevel + " is " + calculatedTax + "; ";
        }

        // 7.h: Update display
        resultDiv.className = "alert alert-success mt-4";
        resultDiv.innerHTML = "<strong>Taxes are:</strong> " + taxTable;
    }

    // Part 6.4: Function to handle radio button operations
    function chooseOp() {
        let income = Number(document.getElementById("income").value);
        let baseRate = Number(document.getElementById("baseRate").value);
        let out = document.getElementById("op_result");
        let result = 0;
        let displayMsg = "";

        if (document.getElementById("power").checked) {
            result = Math.pow(income, baseRate);
            displayMsg = income + " to the power of " + baseRate + " is " + result;
        } else if (document.getElementById("sum").checked) {
            result = income + baseRate;
            displayMsg = income + " + " + baseRate + " is " + result;
        } else if (document.getElementById("mod").checked) {
            result = income % baseRate;
            displayMsg = income + " % " + baseRate + " is " + result;
        }

        out.innerHTML = displayMsg;
    }
</script>

</body>
</html>