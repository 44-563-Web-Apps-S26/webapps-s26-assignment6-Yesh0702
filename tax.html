<!DOCTYPE html>
<html>
<head>
    <title>Progressive Tax Calculator</title>
</head>
<body>

    <h1>Yeshwanth Reddy Kottam tax table computation</h1>

    <form>
        <label for="income">Enter income</label>
        <input type="number" id="income" value="5000"><br><br>

        <label for="baseRate">Enter the base tax rate</label>
        <input type="number" id="baseRate" value="0.05" step="0.01"><br><br>

        <label for="cutoff">Enter the cut off</label>
        <input type="number" id="cutoff" value="7500"><br><br>

        <label for="extRate">Enter the extended rate</label>
        <input type="number" id="extRate" value="0.15" step="0.01"><br><br>

        <input type="button" onclick="doTax()" value="Show tax table">
    </form>

    <div id="result"></div>

    <script>
        // Part 5.7: Main tax computation function
        function doTax() {
            // 7.a-d: Get values from input elements
            let income = Number(document.getElementById("income").value);
            let cutoff = Number(document.getElementById("cutoff").value);
            let baseRate = Number(document.getElementById("baseRate").value);
            let extRate = Number(document.getElementById("extRate").value);
            
            // 7.e: Initialize local variable to an empty string
            let taxTable = "";
            let resultDiv = document.getElementById("result");

            // 7.f: Create a loop that iterates 5 times
            for (let i = 1; i <= 5; i++) {
                let incomeLevel = i * income;
                let calculatedTax = 0;

                // Logic: Charging baseRate vs. extRate based on cutoff
                if (incomeLevel <= cutoff) {
                    calculatedTax = incomeLevel * baseRate;
                } else {
                    // Charge baseRate up to cutoff, and extRate for amount over cutoff
                    calculatedTax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
                }

                // 7.g: Append level and tax to taxTable string
                taxTable += "incomeLevel " + incomeLevel + " is " + calculatedTax + "; ";
            }

            // 7.h: Replace innerHTML with the final table string
            resultDiv.innerHTML = "Taxes are: " + taxTable;
        }
    </script>

</body>
</html>